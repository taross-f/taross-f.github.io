---
layout: default
title: JSON Formatter
lang: en
---

<div class="container">
  <h1>JSON Formatter</h1>
  
  <div class="tool-container">
    <div class="input-section">
      <div class="input-group">
        <label for="jsonInput">JSON Input:</label>
        <textarea id="jsonInput" placeholder="Paste your JSON here..." rows="12"></textarea>
      </div>
      
      <div class="button-group">
        <button id="formatBtn" class="btn btn-primary">Format</button>
        <button id="minifyBtn" class="btn btn-secondary">Minify</button>
        <button id="validateBtn" class="btn btn-info">Validate</button>
        <button id="clearBtn" class="btn btn-outline">Clear</button>
      </div>
    </div>
    
    <div class="output-section">
      <div class="output-group">
        <label for="jsonOutput">Formatted JSON:</label>
        <textarea id="jsonOutput" placeholder="Formatted JSON will appear here..." rows="12" readonly></textarea>
      </div>
      
      <div class="button-group">
        <button id="copyBtn" class="btn btn-primary">Copy</button>
        <button id="downloadBtn" class="btn btn-secondary">Download</button>
      </div>
    </div>
  </div>
  
  <div class="status-section">
    <div id="statusMessage" class="status-message"></div>
  </div>
  
  <div class="stats-section">
    <h3>Statistics</h3>
    <div class="stats-grid">
      <div class="stat-item">
        <span class="stat-label">Size:</span>
        <span id="sizeInfo" class="stat-value">-</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">Lines:</span>
        <span id="lineInfo" class="stat-value">-</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">Characters:</span>
        <span id="charInfo" class="stat-value">-</span>
      </div>
    </div>
  </div>
  
  <div class="path-section">
    <h3>JSON Path Explorer</h3>
    <div class="path-input-group">
      <input type="text" id="pathInput" placeholder="Enter JSON path (e.g., $.users[0].name)" />
      <button id="pathBtn" class="btn btn-info">Get Value</button>
    </div>
    <div id="pathResult" class="path-result"></div>
  </div>
</div>

<style>
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

.tool-container {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  margin-top: 20px;
}

@media (max-width: 768px) {
  .tool-container {
    grid-template-columns: 1fr;
  }
}

.input-group, .output-group {
  display: flex;
  flex-direction: column;
  margin-bottom: 15px;
}

.input-group label, .output-group label {
  margin-bottom: 8px;
  font-weight: bold;
}

#jsonInput, #jsonOutput {
  width: 100%;
  padding: 12px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-family: 'Courier New', monospace;
  font-size: 13px;
  resize: vertical;
}

#jsonOutput {
  background-color: #f8f9fa;
}

.button-group {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-bottom: 15px;
}

.btn {
  padding: 8px 16px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
}

.btn-primary {
  background-color: #007bff;
  color: white;
}

.btn-secondary {
  background-color: #6c757d;
  color: white;
}

.btn-info {
  background-color: #17a2b8;
  color: white;
}

.btn-outline {
  background-color: transparent;
  color: #007bff;
  border: 1px solid #007bff;
}

.btn:hover {
  opacity: 0.8;
}

.status-section {
  margin: 20px 0;
}

.status-message {
  padding: 10px;
  border-radius: 4px;
  min-height: 20px;
}

.status-message.success {
  background-color: #d4edda;
  color: #155724;
  border: 1px solid #c3e6cb;
}

.status-message.error {
  background-color: #f8d7da;
  color: #721c24;
  border: 1px solid #f5c6cb;
}

.stats-section {
  background-color: #f8f9fa;
  padding: 20px;
  border-radius: 4px;
  margin: 20px 0;
}

.stats-section h3 {
  margin-top: 0;
  margin-bottom: 15px;
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 15px;
}

.stat-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.stat-label {
  font-weight: 500;
}

.stat-value {
  font-weight: bold;
  color: #007bff;
}

.path-section {
  background-color: #f8f9fa;
  padding: 20px;
  border-radius: 4px;
  margin: 20px 0;
}

.path-section h3 {
  margin-top: 0;
  margin-bottom: 15px;
}

.path-input-group {
  display: flex;
  gap: 10px;
  margin-bottom: 15px;
}

#pathInput {
  flex: 1;
  padding: 8px 12px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-family: monospace;
}

.path-result {
  background-color: white;
  border: 1px solid #ddd;
  border-radius: 4px;
  padding: 10px;
  min-height: 40px;
  font-family: monospace;
  white-space: pre-wrap;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const jsonInput = document.getElementById('jsonInput');
  const jsonOutput = document.getElementById('jsonOutput');
  const formatBtn = document.getElementById('formatBtn');
  const minifyBtn = document.getElementById('minifyBtn');
  const validateBtn = document.getElementById('validateBtn');
  const clearBtn = document.getElementById('clearBtn');
  const copyBtn = document.getElementById('copyBtn');
  const downloadBtn = document.getElementById('downloadBtn');
  const statusMessage = document.getElementById('statusMessage');
  const sizeInfo = document.getElementById('sizeInfo');
  const lineInfo = document.getElementById('lineInfo');
  const charInfo = document.getElementById('charInfo');
  const pathInput = document.getElementById('pathInput');
  const pathBtn = document.getElementById('pathBtn');
  const pathResult = document.getElementById('pathResult');
  
  let currentJson = null;
  
  function showStatus(message, type = 'success') {
    statusMessage.textContent = message;
    statusMessage.className = `status-message ${type}`;
  }
  
  function updateStats(text) {
    const size = new Blob([text]).size;
    const lines = text.split('\n').length;
    const chars = text.length;
    
    sizeInfo.textContent = size + ' bytes';
    lineInfo.textContent = lines;
    charInfo.textContent = chars;
  }
  
  function formatJson() {
    const input = jsonInput.value.trim();
    
    if (!input) {
      showStatus('Please enter JSON to format', 'error');
      return;
    }
    
    try {
      const parsed = JSON.parse(input);
      currentJson = parsed;
      const formatted = JSON.stringify(parsed, null, 2);
      jsonOutput.value = formatted;
      updateStats(formatted);
      showStatus('JSON formatted successfully!');
      trackToolEvent('json-formatter', 'format');
    } catch (error) {
      showStatus('Invalid JSON: ' + error.message, 'error');
      jsonOutput.value = '';
      updateStats('');
    }
  }
  
  function minifyJson() {
    const input = jsonInput.value.trim();
    
    if (!input) {
      showStatus('Please enter JSON to minify', 'error');
      return;
    }
    
    try {
      const parsed = JSON.parse(input);
      currentJson = parsed;
      const minified = JSON.stringify(parsed);
      jsonOutput.value = minified;
      updateStats(minified);
      showStatus('JSON minified successfully!');
      trackToolEvent('json-formatter', 'minify');
    } catch (error) {
      showStatus('Invalid JSON: ' + error.message, 'error');
      jsonOutput.value = '';
      updateStats('');
    }
  }
  
  function validateJson() {
    const input = jsonInput.value.trim();
    
    if (!input) {
      showStatus('Please enter JSON to validate', 'error');
      return;
    }
    
    try {
      JSON.parse(input);
      showStatus('Valid JSON!');
      trackToolEvent('json-formatter', 'validate');
    } catch (error) {
      showStatus('Invalid JSON: ' + error.message, 'error');
    }
  }
  
  function clearAll() {
    jsonInput.value = '';
    jsonOutput.value = '';
    statusMessage.textContent = '';
    statusMessage.className = 'status-message';
    updateStats('');
    currentJson = null;
    pathResult.textContent = '';
    trackToolEvent('json-formatter', 'clear');
  }
  
  function copyOutput() {
    if (!jsonOutput.value) {
      showStatus('Nothing to copy', 'error');
      return;
    }
    
    navigator.clipboard.writeText(jsonOutput.value).then(function() {
      const originalText = copyBtn.textContent;
      copyBtn.textContent = 'Copied!';
      setTimeout(function() {
        copyBtn.textContent = originalText;
      }, 2000);
      trackToolEvent('json-formatter', 'copy');
    });
  }
  
  function downloadJson() {
    if (!jsonOutput.value) {
      showStatus('Nothing to download', 'error');
      return;
    }
    
    const blob = new Blob([jsonOutput.value], { type: 'application/json' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'formatted.json';
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
    trackToolEvent('json-formatter', 'download');
  }
  
  function getJsonPath() {
    const path = pathInput.value.trim();
    
    if (!path || !currentJson) {
      pathResult.textContent = 'Please format JSON first and enter a valid path';
      return;
    }
    
    try {
      const result = evaluateJsonPath(currentJson, path);
      pathResult.textContent = JSON.stringify(result, null, 2);
      trackToolEvent('json-formatter', 'path_query');
    } catch (error) {
      pathResult.textContent = 'Error: ' + error.message;
    }
  }
  
  function evaluateJsonPath(obj, path) {
    if (path.startsWith('$.')) {
      path = path.substring(2);
    }
    
    const parts = path.split(/[\.\[\]]+/).filter(p => p !== '');
    let current = obj;
    
    for (const part of parts) {
      if (current === null || current === undefined) {
        throw new Error('Path not found');
      }
      
      if (Array.isArray(current) && /^\d+$/.test(part)) {
        current = current[parseInt(part)];
      } else if (typeof current === 'object') {
        current = current[part];
      } else {
        throw new Error('Invalid path');
      }
    }
    
    return current;
  }
  
  formatBtn.addEventListener('click', formatJson);
  minifyBtn.addEventListener('click', minifyJson);
  validateBtn.addEventListener('click', validateJson);
  clearBtn.addEventListener('click', clearAll);
  copyBtn.addEventListener('click', copyOutput);
  downloadBtn.addEventListener('click', downloadJson);
  pathBtn.addEventListener('click', getJsonPath);
  
  pathInput.addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
      getJsonPath();
    }
  });
  
  updateStats('');
  trackToolEvent('json-formatter', 'load');
});
</script>
