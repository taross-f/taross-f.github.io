---
layout: page
title: Base64ã‚¨ãƒ³ã‚³ãƒ¼ãƒ€ãƒ¼/ãƒ‡ã‚³ãƒ¼ãƒ€ãƒ¼
title_i18n_key: apps.base64_tool.title
permalink: /base64-tool/
---

<div class="base64-tool">
  <div class="tool-section">
    <h3 data-i18n="apps.base64_tool.encode_section">ğŸ“¤ ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ï¼ˆãƒ†ã‚­ã‚¹ãƒˆ â†’ Base64ï¼‰</h3>
    <textarea id="textInput" data-i18n-placeholder="apps.base64_tool.encode_placeholder" placeholder="ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã™ã‚‹ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„..." rows="8"></textarea>
    <div class="button-group">
      <button id="encodeBtn" class="btn btn-primary" data-i18n="common.encode">ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰</button>
      <button id="clearTextBtn" class="btn" data-i18n="common.clear">ã‚¯ãƒªã‚¢</button>
    </div>
  </div>
  
  <div class="tool-section">
    <h3 data-i18n="apps.base64_tool.decode_section">ğŸ“¥ ãƒ‡ã‚³ãƒ¼ãƒ‰ï¼ˆBase64 â†’ ãƒ†ã‚­ã‚¹ãƒˆï¼‰</h3>
    <textarea id="base64Input" data-i18n-placeholder="apps.base64_tool.decode_placeholder" placeholder="ãƒ‡ã‚³ãƒ¼ãƒ‰ã™ã‚‹Base64æ–‡å­—åˆ—ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„..." rows="8"></textarea>
    <div class="button-group">
      <button id="decodeBtn" class="btn btn-primary" data-i18n="common.decode">ãƒ‡ã‚³ãƒ¼ãƒ‰</button>
      <button id="clearBase64Btn" class="btn" data-i18n="common.clear">ã‚¯ãƒªã‚¢</button>
    </div>
  </div>
  
  <div class="tool-section">
    <h3 data-i18n="apps.base64_tool.result_section">ğŸ“‹ çµæœ</h3>
    <textarea id="resultOutput" data-i18n-placeholder="apps.base64_tool.result_placeholder" placeholder="çµæœãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™..." rows="8" readonly></textarea>
    <div class="button-group">
      <button id="copyResultBtn" class="btn" data-i18n="apps.base64_tool.copy_result">çµæœã‚’ã‚³ãƒ”ãƒ¼</button>
      <button id="clearResultBtn" class="btn" data-i18n="apps.base64_tool.clear_result">çµæœã‚’ã‚¯ãƒªã‚¢</button>
    </div>
  </div>
  
  <div class="info-section">
    <h4 data-i18n="apps.base64_tool.about_title">ğŸ’¡ Base64ã«ã¤ã„ã¦</h4>
    <p data-i18n="apps.base64_tool.about_text">Base64ã¯ã€ãƒã‚¤ãƒŠãƒªãƒ‡ãƒ¼ã‚¿ã‚’ãƒ†ã‚­ã‚¹ãƒˆå½¢å¼ã§è¡¨ç¾ã™ã‚‹ãŸã‚ã®ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰æ–¹å¼ã§ã™ã€‚ä¸»ã«ä»¥ä¸‹ã®ç”¨é€”ã§ä½¿ç”¨ã•ã‚Œã¾ã™ï¼š</p>
    <ul class="use-cases-list">
      <li data-i18n="apps.base64_tool.use_cases.0">ãƒ¡ãƒ¼ãƒ«ã®æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«</li>
      <li data-i18n="apps.base64_tool.use_cases.1">Web APIã§ã®ç”»åƒãƒ‡ãƒ¼ã‚¿è»¢é€</li>
      <li data-i18n="apps.base64_tool.use_cases.2">è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã®ãƒã‚¤ãƒŠãƒªãƒ‡ãƒ¼ã‚¿ä¿å­˜</li>
      <li data-i18n="apps.base64_tool.use_cases.3">URLã«å«ã‚ã‚‹ãƒ‡ãƒ¼ã‚¿ã®ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰</li>
    </ul>
  </div>
</div>

<style>
.base64-tool {
  max-width: none;
  margin: 0;
}

.tool-section {
  margin-bottom: 30px;
  padding: 20px;
  background: #f8f9fa;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.tool-section h3 {
  margin-top: 0;
  margin-bottom: 15px;
  color: #333;
  font-size: 18px;
}

.tool-section textarea {
  width: 100%;
  padding: 12px;
  border: 2px solid #ddd;
  border-radius: 4px;
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
  font-size: 14px;
  line-height: 1.5;
  resize: vertical;
  box-sizing: border-box;
  margin-bottom: 15px;
}

.tool-section textarea:focus {
  outline: none;
  border-color: #007acc;
}

.tool-section textarea[readonly] {
  background-color: #f8f9fa;
  color: #333;
}

.button-group {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.btn {
  padding: 10px 20px;
  background: #6c757d;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  transition: background-color 0.2s ease;
}

.btn-primary {
  background: #007acc;
}

.btn:hover {
  opacity: 0.8;
}

.btn:active {
  transform: translateY(1px);
}

.info-section {
  background: #e7f3ff;
  padding: 20px;
  border-radius: 8px;
  border-left: 4px solid #007acc;
}

.info-section h4 {
  margin-top: 0;
  color: #333;
}

.info-section ul {
  margin-bottom: 0;
}

.error {
  color: #dc3545;
  background: #f8d7da;
  padding: 10px;
  border-radius: 4px;
  margin-top: 10px;
}

.success {
  color: #155724;
  background: #d4edda;
  padding: 10px;
  border-radius: 4px;
  margin-top: 10px;
}

@media (max-width: 768px) {
  .button-group {
    flex-direction: column;
  }
  
  .btn {
    width: 100%;
  }
}
</style>

<script>
(function() {
  const textInput = document.getElementById('textInput');
  const base64Input = document.getElementById('base64Input');
  const resultOutput = document.getElementById('resultOutput');
  const encodeBtn = document.getElementById('encodeBtn');
  const decodeBtn = document.getElementById('decodeBtn');
  const copyResultBtn = document.getElementById('copyResultBtn');
  const clearTextBtn = document.getElementById('clearTextBtn');
  const clearBase64Btn = document.getElementById('clearBase64Btn');
  const clearResultBtn = document.getElementById('clearResultBtn');

  function showMessage(element, message, type = 'success') {
    // æ—¢å­˜ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‰Šé™¤
    const existingMsg = element.parentNode.querySelector('.error, .success');
    if (existingMsg) {
      existingMsg.remove();
    }
    
    const msgDiv = document.createElement('div');
    msgDiv.className = type;
    msgDiv.textContent = message;
    element.parentNode.appendChild(msgDiv);
    
    setTimeout(() => {
      if (msgDiv.parentNode) {
        msgDiv.remove();
      }
    }, 3000);
  }

  // ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰
  encodeBtn.addEventListener('click', function() {
    const text = textInput.value;
    if (!text.trim()) {
      showMessage(resultOutput, window.i18n('apps.base64_tool.encode_empty_error'), 'error');
      return;
    }
    
    try {
      const encoded = btoa(unescape(encodeURIComponent(text)));
      resultOutput.value = encoded;
      showMessage(resultOutput, window.i18n('apps.base64_tool.encode_success'));
      trackToolEvent('base64-tool', 'encode', text.length);
    } catch (error) {
      showMessage(resultOutput, 'ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸ: ' + error.message, 'error');
    }
  });

  // ãƒ‡ã‚³ãƒ¼ãƒ‰
  decodeBtn.addEventListener('click', function() {
    const base64 = base64Input.value.trim();
    if (!base64) {
      showMessage(resultOutput, window.i18n('apps.base64_tool.decode_empty_error'), 'error');
      return;
    }
    
    try {
      const decoded = decodeURIComponent(escape(atob(base64)));
      resultOutput.value = decoded;
      showMessage(resultOutput, window.i18n('apps.base64_tool.decode_success'));
      trackToolEvent('base64-tool', 'decode', base64.length);
    } catch (error) {
      showMessage(resultOutput, window.i18n('apps.base64_tool.decode_failed'), 'error');
    }
  });

  // ã‚³ãƒ”ãƒ¼
  copyResultBtn.addEventListener('click', function() {
    if (!resultOutput.value) {
      showMessage(resultOutput, window.i18n('common.copy_no_result'), 'error');
      return;
    }
    
    resultOutput.select();
    resultOutput.setSelectionRange(0, 99999);
    
    try {
      document.execCommand('copy');
      showMessage(resultOutput, window.i18n('apps.base64_tool.copy_result_success'));
      trackToolEvent('base64-tool', 'copy_result', resultOutput.value.length);
    } catch (err) {
      showMessage(resultOutput, window.i18n('common.copy_failed'), 'error');
    }
  });

  // ã‚¯ãƒªã‚¢æ©Ÿèƒ½
  clearTextBtn.addEventListener('click', function() {
    textInput.value = '';
    textInput.focus();
    trackToolEvent('base64-tool', 'clear_text');
  });
  
  clearBase64Btn.addEventListener('click', function() {
    base64Input.value = '';
    base64Input.focus();
    trackToolEvent('base64-tool', 'clear_base64');
  });
  
  clearResultBtn.addEventListener('click', function() {
    resultOutput.value = '';
    trackToolEvent('base64-tool', 'clear_result');
  });

  // Enterã‚­ãƒ¼ã§ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰/ãƒ‡ã‚³ãƒ¼ãƒ‰
  textInput.addEventListener('keydown', function(e) {
    if (e.ctrlKey && e.key === 'Enter') {
      encodeBtn.click();
    }
  });
  
  base64Input.addEventListener('keydown', function(e) {
    if (e.ctrlKey && e.key === 'Enter') {
      decodeBtn.click();
    }
  });
})();
</script>